#:kivy 2.0
#:import get_color_from_hex kivy.utils.get_color_from_hex

<PetLabel2>:
    canvas.before:
        Color:
            rgba: get_color_from_hex("#97B9C0")
    
        RoundedRectangle:
            size: self.size[0], self.size[1]
            pos: self.pos
            radius: 5,5
    
    size_hint: 0.3, 1
    pos_hint: {'center_y': 0.5}
    bold: True
    adaptive_height: True
    theme_text_color: "Custom"
    text_color: get_color_from_hex("#ffffff")

<PetItem2>:

    size_hint: 1, None
    height: 120
    petCharsBox: pet_chars
    petImage: pet_image
    petContent: pet_content
    petNLabel: pet_name
    petDLabel: pet_descr
    removeButton: remove_button

    MDFloatLayout:
        id: pet_image
        pos_hint: {'x': 0,'center_y': 0.5}
        size_hint: None, None
        size: self.parent.width*0.3, self.parent.height*0.8

        FitImage:
            source: root.petImageSource
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            radius: 15, 15, 15, 15

    MDFloatLayout:
        id: pet_content
        pos_hint: {'x': 0.32,'top': 1}
        size_hint: None, None
        size: self.parent.width - pet_image.width, self.parent.height

        MDLabel:
            id: pet_name
            text: root.petName
            pos_hint: {'x': 0, 'center_y': 0.82}
            size_hint: None, None
            size: 100, 50
            theme_text_color: "Custom"
            text_color: get_color_from_hex("#8C5042")
            bold: True
            

        MDIconButton:
            id: remove_button
            pos_hint: {'x': 0.8, 'center_y': 0.5}
            icon: 'close-circle-outline'
            theme_text_color: "Custom"
            text_color: get_color_from_hex("#366873")
            on_press:
                pos = root.parent.children.index(root)                  # Posicao do PetItem2 na lista de filhos da list
                root.parent.remove_widget(root.parent.children[pos-1])  # Remove o separator associado ao PetItem2
                root.parent.remove_widget(root.parent.children[pos-1])  # Remove o PetItem2, que agora esta uma posicao a menos

        MDBoxLayout:
            id: pet_chars
            spacing: 3
            orientation: 'vertical'
            size_hint: None, None
            size: "300dp", self.parent.height-dp(55)
            pos_hint: {'x': 0, 'center_y': 0.4}

        MDLabel:
            id: pet_descr
            text: root.petDescription
            font_size: '11sp'
            pos_hint: {'x': 0.42, 'center_y': 0.4}
            theme_text_color: "Custom"
            text_color: get_color_from_hex("#366873")
            bold: True
            size_hint: None, None
            size: 100, 100
        
