#:kivy 2.0
#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import Color mui.ColorTheme.Color
#:set cor Color()

<HomeScreen>:
    canvas:
        Color:
            rgba: cor.linhaBanner()
        Line:
            points: self.x, 0.9 * self.top, self.right, 0.9 * self.top 
            width: 10
        Line:
            points: self.x, self.top - 10, self.right, self.top - 10
            width: 10
            
    MDLabel:
        text: "Miaudote"
        font_name: "Spirax-Regular"
        theme_text_color: "Custom"
        text_color: cor.rgaVermelho()
        pos_hint: {'center_y': 0.94}
        halign: "center"
        font_size: "25sp"

    MDTextField:
        id: text_search
        size_hint: 0.9, 0.09
        multiline: False
        mode: "fill"
        text_color_normal: cor.rgbVermelho()
        text_color_focus: cor.rgbVermelho()
        line_color_normal: cor.rgbVermelho()
        line_color_focus: cor.rgbVermelho()
        pos_hint: {"center_x": 0.5, "center_y": 0.8}

    MDIconButton:
        icon: "magnify"
        pos_hint: {"center_x": 0.9, "center_y": 0.8}
        theme_text_color: "Custom"
        text_color: cor.rgaVermelho()
        on_release:
            root.search(text_search.text)

    MDBoxLayout:
        size_hint: 1, 0.75
        height: self.minimum_height
        orientation: "vertical"

        ScrollView:
            MDList:
                id: container
                padding: 20

    MDBoxLayout:
        size_hint: 1, None
        height: self.minimum_height
        y: - self.height
        orientation: 'vertical'

        MDBottomNavigation:
            panel_color: cor.bottomNavPanel()
            text_color_active: get_color_from_hex(cor.bottomNavTextActive())
            text_color_normal: get_color_from_hex(cor.bottomNavTextNormal())

            canvas.after:
                Color:
                    rgba: cor.rgaBranco()
                Line:
                    points: self.x + dp(123), 65, self.x + dp(123), 0
                    width: 0.3

                Line:
                    points: self.x + dp(2*123 + 7), 65, self.x + dp(2*123 + 7), 0
                    width: 0.3

            MDBottomNavigationItem:
                text: 'Menu'
                icon: 'menu'

            MDBottomNavigationItem:
                text: 'In√≠cio'
                icon: 'home'

            MDBottomNavigationItem:
                text: 'Perfil'
                icon: 'account-circle'