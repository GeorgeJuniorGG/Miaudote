#:kivy 2.0
#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import Color mui.ColorTheme.Color
#:set cor Color()

<PetProfileScreen>:
    petFav: pet_fav
    petName: pet_name
    petSex: pet_sex
    petAge: pet_age
    petAddr: pet_addr
    petDscp: pet_dscp

    MiauLogo:
        screen: root

    MDFloatLayout:
        id: pet_bar
        orientation: "vertical"

        MDLabel:
            id: pet_name
            text: str(root.petName)
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.vermelho())
            halign: "center"
            pos_hint: {"center_y": 0.85}
            
        MDIconButton:
            id: pet_fav
            icon: str(root.petFav)
            pos_hint: {"center_x": 0.9, "center_y": 0.85}
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.vermelho())
            on_press:
                self.icon = "heart-remove-outline" if self.icon == "heart-outline" else "heart-outline"
                root.change_favorite_state()

        MDIconButton:
            icon: "alert-outline"
            pos_hint: {"center_x": 0.1, "center_y": 0.85}
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.vermelho())
            on_press:
                root.alert()
                
    MDCarousel:
        id: carousel
        size_hint: 1, 0.25
        direction: "right"
        pos_hint: {"center_x": 0.5, "center_y": 0.68}
        
    MDFloatLayout:
        id: body
        size_hint: 1, 0.52

        MDLabel:
            text: "Nome: "
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.vermelho())
            halign: "left"
            pos_hint: {"center_x": 0.6, "center_y": 1}

        MDLabel:
            id: pet_name
            text: str(root.petName)
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.azulEscuro())
            pos_hint: {"center_x": 0.85, "center_y": 1}

        MDLabel:
            text: "Sexo: "
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.vermelho())
            halign: "left"
            pos_hint: {"center_x": 0.6, "center_y": 0.95}
        
        MDLabel:
            id: pet_sex
            text: str(root.petSex)
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.azulEscuro())
            halign: "left"
            pos_hint: {"center_x": 0.85, "center_y": 0.95}

        MDLabel:
            text: "Idade: "
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.vermelho())
            halign: "left"
            pos_hint: {"center_x": 0.6, "center_y": 0.9}
        
        MDLabel:
            id: pet_age
            text: str(root.petAge)
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.azulEscuro())
            halign: "left"
            pos_hint: {"center_x": 0.85, "center_y": 0.9}

        MDLabel:
            text: "Localização: "
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.vermelho())
            halign: "left"
            pos_hint: {"center_x": 0.6, "center_y": 0.85}

        MDLabel:
            id: pet_addr
            text: str(root.petAddr)
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.azulEscuro())
            halign: "left"
            pos_hint: {"center_x": 0.85, "center_y": 0.85}
        
        MDFillRoundFlatButton:
            id: pet_adopt
            text: "Adotar"
            font_size: "18sp"
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.azulEscuro())
            line_width: 1.5
            line_color: get_color_from_hex(cor.azulEscuro())
            md_bg_color: get_color_from_hex(cor.branco())
            size_hint: 0.3, 0.09
            pos_hint: {"center_x": 0.5, "center_y": 0.73}
            on_press:
                root.adopt_dialog()
    
    MDFloatLayout:
        size_hint: 1, 0.33

        canvas.before:
            Color:
                rgba: get_color_from_hex(cor.vermelho())
            Line:
                points: self.x + 20, self.top, self.right - 20, self.top - 0.1
                width: 1.015

        MDLabel:
            text: "Descrição:"
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.vermelho())
            halign: "left"
            pos_hint: {"center_y": 0.9}
            padding_x: 20

        MDFloatLayout:
            size_hint: 1, 0.55
        
            MDLabel:
                id: pet_dscp
                text: str(root.petDscp)
                text_color: get_color_from_hex(cor.azulEscuro())
                #md_bg_color: get_color_from_hex(cor.laranja())
                halign: "justify"
                pos_hint: {"center_y": 1}
                padding_x: 20