#:kivy 2.0
#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import Color mui.ColorTheme.Color
#:set cor Color()

<PetRScreen>:
    petName: pet_name
    petSex: pet_sex
    petAge: pet_age
    petAddr: pet_addr
    msgRequest: msg_request
    md_bg_color: get_color_from_hex(cor.azulCinzaClaro()+'11')

    MiauLogo:
        screen: root    

    MDFloatLayout:
        id: pet_bar
        orientation: "vertical"
            
        MDLabel:
            id: pet_name
            text: str(root.petName)
            font_size: "20sp"
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.vermelho())
            halign: "center"
            pos_hint: {"center_y": 0.88}

    MDCarousel:
        id: carousel
        size_hint: 1, 0.33
        direction: "right"
        pos_hint: {"center_x": 0.5, "center_y": 0.68}
            
    MDFloatLayout:
        size_hint: 1, 0.52

        MDLabel:
            text: "Resumo sobre " + str(root.petName)
            font_size: "20sp"
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.vermelho())
            halign: "center"
            pos_hint: {"center_y": 0.95}

        MDLabel:
            text: "Sexo: "
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.vermelho())
            halign: "left"
            pos_hint: {"center_x": 0.6, "center_y": 0.9}
        
        MDLabel:
            id: pet_sex
            text: str(root.petSex)
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.azulEscuro())
            halign: "left"
            pos_hint: {"center_x": 0.85, "center_y": 0.9}

        MDLabel:
            text: "Idade: "
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.vermelho())
            halign: "left"
            pos_hint: {"center_x": 0.6, "center_y": 0.85}
        
        MDLabel:
            id: pet_age
            text: str(root.petAge)
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.azulEscuro())
            halign: "left"
            pos_hint: {"center_x": 0.85, "center_y": 0.85}

        MDLabel:
            text: "Localização: "
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.vermelho())
            halign: "left"
            pos_hint: {"center_x": 0.6, "center_y": 0.8}

        MDLabel:
            id: pet_addr
            text: str(root.petAddr)
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.azulEscuro())
            halign: "left"
            pos_hint: {"center_x": 0.85, "center_y": 0.8}
    
    MDFloatLayout:
        id: requestLayout
        size_hint: 1, 0.39

        canvas.before:
            Color:
                rgba: get_color_from_hex(cor.vermelho())
            Line:
                points: self.x + 20, self.top, self.right - 20, self.top - 0.1
                width: 1.015

        MDLabel:
            text: "Status da Solicitação"
            font_size: "20sp"
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.vermelho())
            halign: "center"
            pos_hint: {"center_y": 0.9}

        MDLabel:
            id: msg_request
            text: str(root.msgRequest)
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.azulEscuro())
            halign: "justify"
            pos_hint: {"center_y": 0.73}
            padding_x: 20
        
        MDFillRoundFlatButton:
            id: chatButton
            text: "Abrir o Chat"
            font_size: "20sp"
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.branco())
            md_bg_color: get_color_from_hex(cor.azulClaro())
            size_hint: 0.6, 0.15
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            on_press:
                root.open_chat()

        MDFillRoundFlatButton:
            id: cancel_button
            text: "Cancelar a Solicitação"
            font_size: "20sp"
            theme_text_color: "Custom"
            text_color: get_color_from_hex(cor.branco())
            md_bg_color: get_color_from_hex(cor.vermelho())
            size_hint: 0.6, 0.15
            pos_hint: {"center_x": 0.5, "center_y": 0.3}
            on_press:
                root.cancel_dialog()